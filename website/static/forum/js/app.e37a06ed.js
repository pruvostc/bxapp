(function(t){function e(e){for(var r,a,n=e[0],u=e[1],l=e[2],m=0,d=[];m<n.length;m++)a=n[m],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);c&&c(e);while(d.length)d.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],r=!0,n=1;n<s.length;n++){var u=s[n];0!==o[u]&&(r=!1)}r&&(i.splice(e--,1),t=a(a.s=s[0]))}return t}var r={},o={app:0},i=[];function a(e){if(r[e])return r[e].exports;var s=r[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=t,a.c=r,a.d=function(t,e,s){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(s,r,function(e){return t[e]}.bind(null,r));return s},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],u=n.push.bind(n);n.push=e,n=n.slice();for(var l=0;l<n.length;l++)e(n[l]);var c=u;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var r=s("2b0e"),o=s("8c4f"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.latestForums.length>0?s("div",t._l(t.latestForums,(function(e){return s("section",{key:e.key,staticClass:"row panel-body"},[s("section",{staticClass:"col-md-6"},[s("h4",[s("router-link",{attrs:{to:"/forum-display/"+e.key}},[s("i",{staticClass:"glyphicon glyphicon-th-list"}),t._v(" "+t._s(e.title))])],1),s("hr"),s("h6",[t._v(t._s(e.content))])]),s("section",{staticClass:"col-md-2"},[s("ul",{attrs:{id:"post-topic"}},[s("li",{staticClass:"list-unstyled"},[t._v("Topics:"+t._s(e.topics.length))])])]),e.topics.length>0?s("section",{staticClass:"col-md-3"},[s("h4",[s("router-link",{attrs:{to:"/topic-display/"+e.topics[0].key}},[s("i",{staticClass:"glyphicon glyphicon-link"}),t._v(" "+t._s(e.topics[0].title)+" ")])],1),s("hr"),s("a",{attrs:{href:"#"}},[s("i",{staticClass:"glyphicon glyphicon-user"}),t._v(" "+t._s(e.topics[0].username)+" ")]),s("br"),s("a",{attrs:{href:"#"}},[s("i",{staticClass:"glyphicon glyphicon-calendar"}),t._v(" "+t._s(e.topics[0].created_at)+" ")])]):t._e()])})),0):s("div",[s("section",{staticClass:"row panel-body"},[s("p",{staticClass:"text-center"},[t._v(" No forums exit yet! "),s("router-link",{attrs:{to:"/add-forum/"}},[t._v("create new forum")])],1)])])])},a=[],n={data:function(){return{}},computed:{latestForums:function(){return this.$store.state.homeForums}},mounted:function(){this.$store.dispatch("setHomeForumsOnLoad",(function(t){setTimeout((function(){return document.getElementById("loading").style.display="none"}),500)}))}},u=n,l=s("2877"),c=Object(l["a"])(u,i,a,!1,null,null,null),m=c.exports,d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("section",{staticClass:"row panel-body"},[s("section",{staticClass:"col-md-12"},[s("h2",[s("i",{staticClass:"glyphicon glyphicon-th-list"}),t._v(" "+t._s(void 0!=t.forumDetails.title?t.forumDetails.title:""))]),t._v(" "),s("hr"),s("h6",[t._v(t._s(void 0!=t.forumDetails.content?t.forumDetails.content:"")+" ")])])]),s("hr"),"undefined"!=t.forumTopics&&null!=t.forumTopics?s("div",{staticClass:"container-fluid"},[s("h3",[t._v("Topics")]),s("ul",{staticClass:"list-group"},t._l(t.forumTopics,(function(t,e,r){return s("forum-topics",{key:r,attrs:{topic:t,objKey:e}})})),1)]):t._e()])},p=[],f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"list-group-item "},[s("span",{staticClass:"badge"},[t._v("Views: "+t._s(t.topic.view_count))]),s("router-link",{attrs:{to:"/topic-display/"+t.objKey}},[t._v(" "+t._s(t.topic.title)+" ")]),s("span",[s("small",[t._v("Posted in")]),t._v(" "),s("i",{staticClass:"glyphicon glyphicon-calendar"}),t._v(" "+t._s(t.topic.created_at))])],1)},h=[],v={props:["topic","objKey"],components:{},computed:{},mounted:function(){}},g=v,_=Object(l["a"])(g,f,h,!1,null,null,null),y=_.exports,C={data:function(){return{}},components:{ForumTopics:y},methods:{},computed:{forumDetails:function(){return this.$store.state.forumDetails},forumTopics:function(){return this.$store.state.forumTopics}},mounted:function(){this.$store.dispatch("loadForumDetails",{route:this.$route})}},$=C,b=Object(l["a"])($,d,p,!1,null,null,null),w=b.exports,T=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[null!=t.topicDetails&&"undefined"!=t.topicDetails&&null!=t.userDetails&&"undefined"!=t.userDetails?s("section",{staticClass:"row panel-body"},[s("section",{staticClass:"col-md-12"},[s("h2",[s("i",{staticClass:"glyphicon glyphicon-link"}),t._v(" "+t._s(t.topicDetails.title)+" "),s("small",[s("router-link",{attrs:{to:"/forum-display/"+t.topicDetails.forum_id}},[t._v(" "+t._s(t.forumDetails.title))])],1)]),t._v(" "),s("hr"),s("a",{attrs:{href:"#"}},[s("i",{staticClass:"glyphicon glyphicon-user"}),t._v(" "+t._s(t.userDetails.name)+" ")]),s("br"),s("i",{staticClass:"glyphicon glyphicon-calendar"}),t._v(" "+t._s(t.topicDetails.created_at)+" "),s("br"),s("span",{staticClass:"badge"},[t._v("Views: "+t._s(t.topicDetails.view_count))]),s("hr"),s("p",[t._v(t._s(t.topicDetails.content))])])]):t._e(),s("hr"),"undefined"!=t.replies&&null!=t.replies&&t.replies.length>0?s("div",{staticClass:"container-fluid"},[s("h3",[t._v("Replies")]),t._l(t.replies,(function(t,e){return s("topic-replies",{key:e,attrs:{reply:t}})}))],2):t._e(),1==this.$store.state.currentUser.status?s("div",{staticClass:"container-fluid"},[s("h3",[t._v("Add Reply")]),s("add-reply")],1):s("div",{staticClass:"container-fluid"},[s("p",{staticClass:"text-center"},[s("router-link",{attrs:{to:"/login/"}},[t._v("Login")]),t._v(" to add reply")],1)])])},U=[],F=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"panel panel-default"},[s("div",{staticClass:"panel panel-heading"},[t._v(" "+t._s(t.reply.username)+" "),s("span",{staticClass:"pull-right"},[t._v(t._s(t.reply.created_at))])]),s("div",{staticClass:"panel panel-body"},[t._v(" "+t._s(t.reply.content)+" ")])])},D=[],x={props:["reply"],components:{}},L=x,E=Object(l["a"])(L,F,D,!1,null,null,null),k=E.exports,P=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("form",{attrs:{method:"POST"},on:{submit:function(e){return e.preventDefault(),t.addReply(e)}}},[s("div",{staticClass:"panel panel-default"},[s("div",{staticClass:"panel panel-header"},[s("strong",[t._v("Use any of these emotions: ")]),s("ul",{staticClass:"emotion-list"},t._l(t.emotionList,(function(e,r){return s("li",{key:r,staticClass:"emotion-list",domProps:{innerHTML:t._s(e)},on:{click:t.insertEmo}})})),0)]),s("div",{staticClass:"panel panel-body"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.reply,expression:"reply"}],staticClass:"form-control",attrs:{rows:"3",name:"reply"},domProps:{value:t.reply},on:{input:function(e){e.target.composing||(t.reply=e.target.value)}}})]),s("div",{staticClass:"panel panel-footer"},[s("button",{staticClass:"btn btn-success",attrs:{type:"submit",disabled:t.disabled()}},[s("i",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}],staticClass:"fa fa-refresh fa-lg fa-spin btn-load-indicator"}),t._v(" Add")])])])])])},N=[],B=(s("4160"),s("b0c0"),s("b64b"),s("159b"),s("8aa5")),O=s.n(B),A={apiKey:"AIzaSyBDqBt1yca3n4mqqOaw4lpwQRivpMCeBXc",authDomain:"localhost",databaseURL:"https://forum-34f56.firebaseio.com",storageBucket:"gs://forum-34f56.appspot.com"},j={apiKey:A.apiKey,authDomain:A.authDomain,databaseURL:A.databaseURL,storageBucket:A.storageBucket};O.a.initializeApp(j);var R=O.a.database(),S={authenticate:function(t,e,s,r){O.a.auth().signInWithEmailAndPassword(t,e).then(s).catch(r)},logout:function(t,e){O.a.auth().signOut().then(t).catch(e)},getCurrentUser:function(t){O.a.auth().onAuthStateChanged(t)},register:function(t,e,s,r){O.a.auth().createUserWithEmailAndPassword(t,e).then(s).catch(r)},updateUserDisplayname:function(t){var e=O.a.auth().currentUser;e.updateProfile({displayName:t}).then((function(){})).catch((function(t){console.log(t)}))},addUser:function(t,e,s){var r=R.ref("users"),o=r.push(),i=o.getKey();return o.set({name:t,email:e,uid:s,created_at:(new Date).toLocaleString()}),i},getUserByUID:function(t,e){var s=R.ref("users").orderByChild("uid").equalTo(t);s.on("value",(function(t){null!=t.val()?e(Object.keys(t.val())[0],t.val()):e(null,null)}))},addForum:function(t,e,s){var r=R.ref("forums"),o=r.push();o.set({title:t,content:e,user_id:s,created_at:(new Date).toLocaleString()})},updateForum:function(t,e,s){R.ref("forums/"+s).update({title:t,content:e})},deleteForum:function(t){R.ref("forums/"+t).remove()},userForums:function(t,e){var s=R.ref("forums").orderByChild("user_id").equalTo(t);s.on("value",(function(t){e(t.val())}))},getForumByKey:function(t,e){var s=R.ref("forums").child(t),r=R.ref("topics").orderByChild("forum_id").equalTo(t);s.once("value",(function(t){e(t.val(),"forum")})),r.on("value",(function(t){e(t.val(),"topics")}))},getMyTopics:function(t,e,s){var r=R.ref("topics").orderByChild("userId_forumId").equalTo(e+"_"+t);r.on("value",(function(t){s(t.val())}))},addTopic:function(t,e,s,r){var o=R.ref("topics"),i=o.push();i.set({title:t,content:e,user_id:r,created_at:(new Date).toLocaleString(),forum_id:s,view_count:0,userId_forumId:r+"_"+s})},updateTopic:function(t,e,s){R.ref("topics/"+s).update({title:t,content:e})},deleteTopic:function(t){R.ref("topics/"+t).remove()},updateTopicViewCount:function(t){var e=R.ref("topics").child(t).child("view_count");e.transaction((function(t){return t+=1,t}))},getTopicByKey:function(t,e){var s=R.ref("topics").child(t);s.on("value",(function(t){var s=t.val(),r=R.ref("users").child(s.user_id);r.on("value",(function(t){var r=R.ref("forums").child(s.forum_id);r.on("value",(function(r){e(s,t.val(),r.val())}))}))}))},getHomeLatestForums:function(t){var e=R.ref("forums");e.once("value",(function(e){null!=e.val()?e.forEach((function(e){var s=e.key,r=e.val();r.key=s,r.topics=[];var o=R.ref("topics").orderByChild("forum_id").equalTo(s);o.on("child_added",(function(t){var e=t.val();e.key=t.key,e.username="";var s=R.ref("users/"+e.user_id);s.on("value",(function(t){e.username=t.val().name,r.topics.push(e)}))})),t(r)})):t(null)}),(function(t){console.log("Error: "+t.code)}))},getRepliesByTopicKey:function(t,e){var s=R.ref("replies").orderByChild("topic_id").equalTo(t);s.on("value",(function(t){null!=t.val()?t.forEach((function(t){var s=t.val();s.username="",R.ref("users/"+s.user_id).once("value",(function(t){s.username=t.val().name,e(s)}))})):e(null)}))},updateRepliesByTopicKey:function(t,e){var s=R.ref("replies").orderByChild("topic_id").equalTo(t);s.on("child_added",(function(t){if(null!=t.val()){var s=t.val();s.username="",R.ref("users/"+s.user_id).once("value",(function(t){s.username=t.val().name,e(s)}))}else e(null)}))},addReply:function(t,e,s){var r=R.ref("replies"),o=r.push();o.set({content:t,user_id:s,created_at:(new Date).toLocaleString(),topic_id:e})}},q={data:function(){return{isLoading:!1,emotionList:["😁","😂","😃","😅","😆","😉","😊","😋","😌","😍","😏","😒","😓","😔","😖","😘","😚","😜","😝","😞","😠","😡","😢","😣","😤","😥","😨","😩","😪","😫","😭","😰","😱","😲","😳","😵","😷","😸","😹","😺","😻","😼","😽","😿","🙀","🙅","🙆","🙇","🙈"]}},computed:{reply:{get:function(){return this.$store.state.reply},set:function(t){this.$store.commit("setReply",t)}}},methods:{disabled:function(){return""==this.$store.state.reply},insertEmo:function(t){var e=this.$store.state.reply;e+=t.target.innerHTML,this.$store.commit("setReply",e)},addReply:function(){var t=this;""!=t.$store.state.reply&&(t.isLoading=!0,S.addReply(t.$store.state.reply,t.$route.params.id,t.$store.state.currentUser.id),setTimeout((function(){t.$store.commit("setReplies",[]),S.updateRepliesByTopicKey(t.$route.params.id,(function(e){t.$store.commit("addToReplies",e),t.isLoading=!1})),t.$store.commit("setReply","")}),1500))}}},I=q,K=Object(l["a"])(I,P,N,!1,null,null,null),H=K.exports,M={components:{TopicReplies:k,AddReply:H},computed:{forumDetails:function(){return this.$store.state.forumDetails},topicDetails:function(){return this.$store.state.topicDetails},userDetails:function(){return this.$store.state.userDetails},replies:function(){return this.$store.state.replies.reverse()}},mounted:function(){this.$store.dispatch("loadTopicDetails",{route:this.$route}),S.updateTopicViewCount(this.$route.params.id)}},z=M,V=Object(l["a"])(z,T,U,!1,null,null,null),Z=V.exports,W=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("section",{staticClass:"row panel-body"},[s("div",{staticClass:"col-md-12"},[s("form",{staticClass:"form-inline",attrs:{method:"post"},on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[this.errors.length>0?s("div",{staticClass:"alert alert-danger"},[s("ul",t._l(this.errors,(function(e,r){return s("li",{key:r},[t._v(t._s(e))])})),0)]):t._e(),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"email"}},[t._v("Email address")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",id:"email",placeholder:"Email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"password"}},[t._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",name:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),s("button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[s("i",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}],staticClass:"fa fa-refresh fa-lg fa-spin btn-load-indicator"}),t._v(" Login ")])])])])])},J=[],Q={data:function(){return{isLoading:!1,errors:[]}},computed:{email:{get:function(){return this.$store.state.auth.email},set:function(t){this.$store.commit("setAuthEmail",t)}},password:{get:function(){return this.$store.state.auth.password},set:function(t){this.$store.commit("setAuthPassword",t)}},name:{get:function(){return this.$store.state.auth.name},set:function(t){this.$store.commit("setAuthName",t)}}},methods:{login:function(){var t=this;if(this.errors=[],""==this.$store.state.auth.email&&this.errors.push("Email address required"),""==this.$store.state.auth.password&&this.errors.push("Password required"),""==this.$store.state.auth.email||this.validateEmail(this.$store.state.auth.email)||this.errors.push("Invalid email address"),""!=this.$store.state.auth.password&&this.$store.state.auth.password.length<6&&this.errors.push("Password must be at least 6 characters long"),this.errors.length>0)return!1;this.isLoading=!0,S.authenticate(t.$store.state.auth.email,t.$store.state.auth.password,(function(e){setTimeout((function(){t.isLoading=!1,t.$store.commit("setCurrUserName",t.$store.state.auth.name),t.$store.commit("setCurrUserEmail",e.user.email),t.$store.commit("setCurrUserUid",e.user.uid),t.$store.commit("setCurrUserStatus",1),S.userForums(e.user.uid,(function(e){t.$store.commit("setUserForums",e)})),t.$router.push("/")}),1500)}),(function(t){alert(t.message)}))},validateEmail:function(t){var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(String(t).toLowerCase())}},created:function(){document.getElementById("loading").style.display="none"}},X=Q,Y=Object(l["a"])(X,W,J,!1,null,null,null),G=Y.exports,tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("section",{staticClass:"row panel-body"},[s("div",{staticClass:"col-md-12"},[s("h6",[t._v("Waiting to logout...")]),""!=this.error?s("div",{staticClass:"alert alert-danger"},[t._v(t._s(this.error))]):t._e()])])])},et=[],st={data:function(){return{error:""}},created:function(){document.getElementById("loading").style.display="none"},mounted:function(){var t=this;S.logout((function(){setTimeout((function(){t.$store.dispatch("clearUserData"),t.$router.push("/")}),2e3)}),(function(e){t.error=e}))}},rt=st,ot=Object(l["a"])(rt,tt,et,!1,null,null,null),it=ot.exports,at=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("section",{staticClass:"row panel-body"},[s("div",{staticClass:"col-md-12"},[s("form",{staticClass:"form-inline",attrs:{method:"post"},on:{submit:function(e){return e.preventDefault(),t.register(e)}}},[this.errors.length>0?s("div",{staticClass:"alert alert-danger"},[s("ul",t._l(this.errors,(function(e,r){return s("li",{key:r},[t._v(t._s(e))])})),0)]):t._e(),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"email"}},[t._v("Email address")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",id:"email",placeholder:"Email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"displayName"}},[t._v("Display name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",id:"displayName",placeholder:"displayName"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"password"}},[t._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",name:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),s("button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[s("i",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}],staticClass:"fa fa-refresh fa-lg fa-spin btn-load-indicator"}),t._v(" Register ")])])])])])},nt=[],ut={data:function(){return{isLoading:!1,errors:[]}},computed:{email:{get:function(){return this.$store.state.auth.email},set:function(t){this.$store.commit("setAuthEmail",t)}},password:{get:function(){return this.$store.state.auth.password},set:function(t){this.$store.commit("setAuthPassword",t)}},name:{get:function(){return this.$store.state.auth.name},set:function(t){this.$store.commit("setAuthName",t)}}},methods:{register:function(){var t=this;if(this.errors=[],""==this.$store.state.auth.email&&this.errors.push("Email address required"),""==this.$store.state.auth.password&&this.errors.push("Password required"),""==this.$store.state.auth.name&&this.errors.push("Display name required"),""==this.$store.state.auth.email||this.validateEmail(this.$store.state.auth.email)||this.errors.push("Invalid email address"),""!=this.$store.state.auth.password&&this.$store.state.auth.password.length<6&&this.errors.push("Password must be at least 6 characters long"),this.errors.length>0)return!1;this.isLoading=!0,S.register(t.$store.state.auth.email,t.$store.state.auth.password,(function(e){S.updateUserDisplayname(t.$store.state.auth.name),setTimeout((function(){t.isLoading=!1;var s=S.addUser(t.$store.state.auth.name,e.user.email,e.user.uid);t.$store.commit("setCurrUserId",s),t.$store.commit("setCurrUserName",t.$store.state.auth.name),t.$store.commit("setCurrUserEmail",e.user.email),t.$store.commit("setCurrUserUid",e.user.uid),t.$store.commit("setCurrUserStatus",1),t.$router.push("/")}),1500)}),(function(t){alert(t.message)}))},validateEmail:function(t){var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(String(t).toLowerCase())}}},lt=ut,ct=Object(l["a"])(lt,at,nt,!1,null,null,null),mt=ct.exports,dt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("section",{staticClass:"row panel-body"},[s("div",{staticClass:"col-md-12"},[s("form",{attrs:{method:"post"},on:{submit:function(e){return e.preventDefault(),t.addForum(e)}}},[this.errors.length>0?s("div",{staticClass:"alert alert-danger"},[s("ul",t._l(this.errors,(function(e,r){return s("li",{key:r},[t._v(t._s(e))])})),0)]):t._e(),""!=this.msg?s("div",{staticClass:"alert alert-success"},[t._v(t._s(this.msg))]):t._e(),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"title"}},[t._v("Title")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control",attrs:{type:"text",id:"title",placeholder:"Title"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"content"}},[t._v("Content")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],staticClass:"form-control",attrs:{name:"content",placeholder:"Content"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}})]),s("button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[s("i",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}],staticClass:"fa fa-refresh fa-lg fa-spin btn-load-indicator"}),t._v(" Save ")])])])])])},pt=[],ft={data:function(){return{errors:[],msg:"",isLoading:!1}},computed:{title:{get:function(){return this.$store.state.forum.title},set:function(t){this.$store.commit("setForumTitle",t)}},content:{get:function(){return this.$store.state.forum.content},set:function(t){this.$store.commit("setForumContent",t)}}},methods:{addForum:function(){this.errors=[];var t=this;if(""==this.$store.state.forum.title&&this.errors.push("Title required"),""==this.$store.state.forum.content&&this.errors.push("Content required"),this.errors.length>0)return!1;this.isLoading=!0,S.addForum(this.$store.state.forum.title,this.$store.state.forum.content,this.$store.state.currentUser.id),setTimeout((function(){t.isLoading=!1,t.msg="Forum saved successfully!",t.$store.commit("setForumTitle",""),t.$store.commit("setForumContent",""),t.$store.dispatch("getUserForums",t.$store.state.currentUser),t.$router.push("/my-forums/")}),2500)}},created:function(){1!=this.$store.state.currentUser.status&&this.$router.push("/login/")}},ht=ft,vt=Object(l["a"])(ht,dt,pt,!1,null,null,null),gt=vt.exports,_t=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._m(0),s("hr"),""!=this.msg?s("div",{staticClass:"alert alert-success"},[t._v(t._s(this.msg))]):t._e(),s("div",{staticClass:"container-fluid"},[this.$store.state.userForums?s("table",{staticClass:"table table-responsive"},[t._m(1),s("tbody",t._l(this.$store.state.userForums,(function(e,r,o){return s("tr",{key:o},[s("td",[t._v(t._s(e.title))]),s("td",[t._v(t._s(e.content))]),s("td",[s("router-link",{staticClass:"btn btn-info",attrs:{to:"/forum-topics/"+r}},[t._v("View")])],1),s("td",[s("router-link",{staticClass:"btn btn-info",attrs:{to:"/add-topic/"+r}},[t._v("Add Topic")])],1),s("td",[s("router-link",{staticClass:"btn btn-success",attrs:{to:"/edit-forum/"+r}},[t._v("Edit")])],1),s("td",[s("a",{staticClass:"btn btn-danger",attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.remove(r)}}},[t._v("Delete")])])])})),0)]):t._e(),this.$store.state.userForums?t._e():s("div",{staticClass:"text-center"},[t._v(" You have no forums yet! "),s("router-link",{attrs:{to:"/add-forum/"}},[t._v("Add forum")])],1)])])},yt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"row panel-body"},[s("section",{staticClass:"col-md-12"},[s("h3",[s("i",{staticClass:"glyphicon glyphicon-th-list"}),t._v(" My Forums ")]),s("hr")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",[t._v("Title")]),s("th",[t._v("Content")]),s("th",[t._v("Forum Topic")]),s("th",[t._v("Add Topic")]),s("th",[t._v("Edit")]),s("th",[t._v("Delete")])])])}],Ct={data:function(){return{msg:""}},methods:{remove:function(t){var e=this;confirm("Are you sure?")&&(S.deleteForum(t),setTimeout((function(){e.msg="Forum deleted successfully!",e.$store.dispatch("getUserForums",e.$store.state.currentUser)}),1500))}},mounted:function(){document.getElementById("loading").style.display="none"}},$t=Ct,bt=Object(l["a"])($t,_t,yt,!1,null,null,null),wt=bt.exports,Tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("section",{staticClass:"row panel-body"},[s("div",{staticClass:"col-md-12"},[s("form",{attrs:{method:"post"},on:{submit:function(e){return e.preventDefault(),t.editForum(e)}}},[this.errors.length>0?s("div",{staticClass:"alert alert-danger"},[s("ul",t._l(this.errors,(function(e,r){return s("li",{key:r},[t._v(t._s(e))])})),0)]):t._e(),""!=this.msg?s("div",{staticClass:"alert alert-success"},[t._v(t._s(this.msg))]):t._e(),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"title"}},[t._v("Title")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control",attrs:{type:"text",id:"title",placeholder:"Title"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"content"}},[t._v("Content")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],staticClass:"form-control",attrs:{name:"content",placeholder:"Content"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}})]),s("button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[s("i",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}],staticClass:"fa fa-refresh fa-lg fa-spin btn-load-indicator"}),t._v(" Update ")])])])])])},Ut=[],Ft={data:function(){return{errors:[],msg:"",isLoading:!1}},computed:{title:{get:function(){return this.$store.state.forum.title},set:function(t){this.$store.commit("setForumTitle",t)}},content:{get:function(){return this.$store.state.forum.content},set:function(t){this.$store.commit("setForumContent",t)}}},created:function(){var t=this;S.getForumByKey(this.$route.params.id,(function(e,s){"forum"==s&&(t.$store.commit("setForumTitle",e.title),t.$store.commit("setForumContent",e.content))}))},methods:{editForum:function(){this.errors=[];var t=this;if(""==this.$store.state.forum.title&&this.errors.push("Title required"),""==this.$store.state.forum.content&&this.errors.push("Content required"),this.errors.length>0)return!1;this.isLoading=!0,S.updateForum(this.$store.state.forum.title,this.$store.state.forum.content,this.$route.params.id),setTimeout((function(){t.isLoading=!1,t.msg="Forum updated successfully!",t.$store.dispatch("getUserForums",t.$store.state.currentUser),t.$router.push("/my-forums/")}),2500)}}},Dt=Ft,xt=Object(l["a"])(Dt,Tt,Ut,!1,null,null,null),Lt=xt.exports,Et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("section",{staticClass:"row panel-body"},[s("div",{staticClass:"col-md-12"},[s("form",{attrs:{method:"post"},on:{submit:function(e){return e.preventDefault(),t.addTopic(e)}}},[this.errors.length>0?s("div",{staticClass:"alert alert-danger"},[s("ul",t._l(this.errors,(function(e,r){return s("li",{key:r},[t._v(t._s(e))])})),0)]):t._e(),""!=this.msg?s("div",{staticClass:"alert alert-success"},[t._v(t._s(this.msg))]):t._e(),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"title"}},[t._v("Title")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control",attrs:{type:"text",id:"title",placeholder:"Title"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"content"}},[t._v("Content")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],staticClass:"form-control",attrs:{name:"content",placeholder:"Content"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}})]),s("button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[s("i",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}],staticClass:"fa fa-refresh fa-lg fa-spin btn-load-indicator"}),t._v(" Save ")])])])])])},kt=[],Pt={data:function(){return{errors:[],msg:"",isLoading:!1}},computed:{title:{get:function(){return this.$store.state.topic.title},set:function(t){this.$store.commit("setTopicTitle",t)}},content:{get:function(){return this.$store.state.topic.content},set:function(t){this.$store.commit("setTopicContent",t)}}},methods:{addTopic:function(){this.errors=[];var t=this;if(""==this.$store.state.topic.title&&this.errors.push("Title required"),""==this.$store.state.topic.content&&this.errors.push("Content required"),this.errors.length>0)return!1;this.isLoading=!0,S.addTopic(this.$store.state.topic.title,this.$store.state.topic.content,this.$route.params.id,this.$store.state.currentUser.id),setTimeout((function(){t.isLoading=!1,t.msg="Topic saved successfully!",t.$store.commit("setTopicTitle",""),t.$store.commit("setTopicContent",""),t.$router.push("/forum-topics/"+t.$route.params.id)}),2500)}},created:function(){document.getElementById("loading").style.display="none"}},Nt=Pt,Bt=Object(l["a"])(Nt,Et,kt,!1,null,null,null),Ot=Bt.exports,At=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("section",{staticClass:"row panel-body"},[s("div",{staticClass:"col-md-12"},[s("form",{attrs:{method:"post"},on:{submit:function(e){return e.preventDefault(),t.editTopic(e)}}},[this.errors.length>0?s("div",{staticClass:"alert alert-danger"},[s("ul",t._l(this.errors,(function(e,r){return s("li",{key:r},[t._v(" "+t._s(e)+" ")])})),0)]):t._e(),""!=this.msg?s("div",{staticClass:"alert alert-success"},[t._v(" "+t._s(this.msg)+" ")]):t._e(),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"title"}},[t._v("Title")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control",attrs:{type:"text",id:"title",placeholder:"Title"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"content"}},[t._v("Content")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],staticClass:"form-control",attrs:{name:"content",placeholder:"Content"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}})]),s("button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[s("i",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}],staticClass:"fa fa-refresh fa-lg fa-spin btn-load-indicator"}),t._v(" Save ")])])])])])},jt=[],Rt={data:function(){return{errors:[],msg:"",isLoading:!1}},computed:{title:{get:function(){return this.$store.state.topic.title},set:function(t){this.$store.commit("setTopicTitle",t)}},content:{get:function(){return this.$store.state.topic.content},set:function(t){this.$store.commit("setTopicContent",t)}}},created:function(){var t=this;S.getTopicByKey(this.$route.params.topic_id,(function(e){t.$store.commit("setTopicTitle",e.title),t.$store.commit("setTopicContent",e.content)}))},methods:{editTopic:function(){this.errors=[];var t=this;if(""==this.$store.state.topic.title&&this.errors.push("Title required"),""==this.$store.state.topic.content&&this.errors.push("Content required"),this.errors.length>0)return!1;this.isLoading=!0,S.updateTopic(t.$store.state.topic.title,t.$store.state.topic.content,t.$route.params.topic_id),t.msg="Topic updated successfully!",setTimeout((function(){t.isLoading=!1,t.$store.commit("setTopicTitle",""),t.$store.commit("setTopicContent",""),t.$router.push("/forum-topics/"+t.$route.params.forum_id)}),2500)}}},St=Rt,qt=Object(l["a"])(St,At,jt,!1,null,null,null),It=qt.exports,Kt=[{path:"/",name:"Home",component:m},{path:"/home",redirect:"/"},{path:"/forum-display/:id",name:"ForumDisplay",component:w},{path:"/topic-display/:id",name:"TopicDisplay",component:Z},{path:"/login",name:"Login",component:G},{path:"/logout",name:"Logout",component:it},{path:"/register",name:"Register",component:mt},{path:"/add-forum",name:"AddForum",component:gt},{path:"/my-forums",name:"MyForums",component:wt},{path:"/edit-forum/:id",name:"EditForum",component:Lt},{path:"/add-topic/:id",name:"AddTopic",component:Ot},{path:"/edit-topic/:forum_id/:topic_id",name:"EditTopic",component:It},{path:"/forum-topics/:id",name:"ForumTopics",component:y}],Ht=s("2f62");r["a"].use(Ht["a"]);var Mt=new Ht["a"].Store({state:{auth:{email:"",password:"",name:""},currentUser:{id:"",name:"",email:"",uid:"",status:0},forum:{title:"",content:""},userForums:[],userTopics:[],topic:{title:"",content:""},homeForums:[],forumDetails:{},forumTopics:{},topicDetails:{},userDetails:{},replies:[],reply:""},mutations:{setAuthEmail:function(t,e){t.auth.email=e},setAuthPassword:function(t,e){t.auth.password=e},setAuthName:function(t,e){t.auth.name=e},setCurrUserId:function(t,e){t.currentUser.id=e},setCurrUserName:function(t,e){t.currentUser.name=e},setCurrUserEmail:function(t,e){t.currentUser.email=e},setCurrUserUid:function(t,e){t.currentUser.uid=e},setCurrUserStatus:function(t,e){t.currentUser.status=e},setForumTitle:function(t,e){t.forum.title=e},setForumContent:function(t,e){t.forum.content=e},setUserForums:function(t,e){t.userForums=e},setUserTopics:function(t,e){t.userTopics=e},setTopicTitle:function(t,e){t.topic.title=e},setTopicContent:function(t,e){t.topic.content=e},addToHomeForums:function(t,e){null!=e&&""!=e&&t.homeForums.push(e)},setHomeForums:function(t,e){t.homeForums=e},setForumDetails:function(t,e){t.forumDetails=e},setForumTopics:function(t,e){t.forumTopics=e},setTopicsDetails:function(t,e){t.topicDetails=e},setUserDetails:function(t,e){t.userDetails=e},setReplies:function(t,e){t.replies=e},setReply:function(t,e){t.reply=e},addToReplies:function(t,e){null!=e&&""!=e&&t.replies.push(e)}},actions:{getCurrentUser:function(t){var e=t.commit;S.getCurrentUser((function(t){t&&S.getUserByUID(t.uid,(function(s,r){null!=s&&null!=r&&(e("setCurrUserId",s),e("setCurrUserName",t.displayName),e("setCurrUserEmail",t.email),e("setCurrUserUid",t.uid),e("setCurrUserStatus",1))}))}))},clearUserData:function(t){var e=t.commit;e("setCurrUserId",""),e("setCurrUserName",""),e("setCurrUserEmail",""),e("setCurrUserUid",""),e("setCurrUserStatus",0),e("setAuthEmail",""),e("setAuthPassword",""),e("setAuthName","")},getUserForums:function(t,e){var s=t.commit;S.userForums(e.id,(function(t){s("setUserForums",t||[])}))},setHomeForumsOnLoad:function(t,e){var s=t.commit;s("setHomeForums",[]),S.getHomeLatestForums((function(t){s("addToHomeForums",t),e(t)}))},loadForumDetails:function(t,e){var s=t.commit;S.getForumByKey(e.route.params.id,(function(t,e){s("forum"==e?"setForumDetails":"setForumTopics",t),setTimeout((function(){return document.getElementById("loading").style.display="none"}),500)}))},loadTopicDetails:function(t,e){var s=t.commit;S.getTopicByKey(e.route.params.id,(function(t,e,r){s("setTopicsDetails",t),s("setUserDetails",e),s("setForumDetails",r),setTimeout((function(){return document.getElementById("loading").style.display="none"}),1e3)})),s("setReplies",[]),S.updateRepliesByTopicKey(e.route.params.id,(function(t){s("addToReplies",t)}))}}}),zt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("section",{staticClass:"panel panel-success"},[s("app-header"),s("router-view")],1)])])])},Vt=[],Zt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",{staticClass:"panel-heading clearfix"},[s("div",{staticClass:"heading"},[s("router-link",{attrs:{to:"/"}},[t._v("Forum - Home")])],1),s("div",{staticClass:"pull-right"},[0==this.$store.state.currentUser.status?s("router-link",{staticClass:"btn btn-primary spaced",attrs:{to:"/register"}},[t._v("Register")]):t._e(),0==this.$store.state.currentUser.status?s("router-link",{staticClass:"btn btn-primary  spaced",attrs:{to:"/login"}},[t._v("Sign in")]):t._e(),1==this.$store.state.currentUser.status?s("router-link",{staticClass:"btn btn-primary  spaced",attrs:{to:"/logout"}},[t._v("Logout")]):t._e(),1==this.$store.state.currentUser.status?s("router-link",{staticClass:"btn btn-warning  spaced",attrs:{to:"/my-forums"}},[t._v("My Forums")]):t._e(),1==this.$store.state.currentUser.status?s("router-link",{staticClass:"btn btn-warning  spaced",attrs:{to:"/add-forum"}},[t._v("Add Forum")]):t._e()],1)])},Wt=[],Jt={name:"Header"},Qt=Jt,Xt=Object(l["a"])(Qt,Zt,Wt,!1,null,null,null),Yt=Xt.exports,Gt={components:{"app-header":Yt}},te=Gt,ee=Object(l["a"])(te,zt,Vt,!1,null,null,null),se=ee.exports;r["a"].config.productionTip=!1,r["a"].use(o["a"]);var re=new o["a"]({mode:"hash",routes:Kt,store:Mt});new r["a"]({router:re,store:Mt,created:function(){document.getElementById("loading").style.display="block"},mounted:function(){Mt.dispatch("getCurrentUser"),setTimeout((function(){1==Mt.state.currentUser.status&&Mt.dispatch("getUserForums",Mt.state.currentUser)}),2e3)},updated:function(){},render:function(t){return t(se)}}).$mount("#app")}});
//# sourceMappingURL=app.e37a06ed.js.map